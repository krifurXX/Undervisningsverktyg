<!DOCTYPE html>
<html lang="sv">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ALGORITMER & ANSVAR - Ers√§ttningsuppgift VAI100</title>
    <style>
        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }
        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
            background: #f1f5f9;
            min-height: 100vh;
            line-height: 1.5;
        }
        .container {
            max-width: 720px;
            margin: 0 auto;
            padding: 24px;
            background: white;
            min-height: 100vh;
        }
        .hidden { display: none !important; }
        
        /* Progress bar */
        .progress-bar {
            display: flex;
            gap: 4px;
            margin-bottom: 20px;
        }
        .progress-step {
            flex: 1;
            height: 4px;
            border-radius: 2px;
            background: #e2e8f0;
        }
        .progress-step.active { background: #2563eb; }
        
        /* Typography */
        h1 {
            font-size: 28px;
            font-weight: 600;
            color: #1e293b;
            margin-bottom: 8px;
            font-family: Georgia, serif;
        }
        h2 {
            font-size: 22px;
            font-weight: 600;
            color: #1e293b;
            margin: 12px 0 8px 0;
        }
        h3 {
            font-size: 16px;
            font-weight: 600;
            color: #334155;
            margin-bottom: 16px;
        }
        p { color: #64748b; }
        
        /* Badges */
        .badge {
            display: inline-block;
            padding: 4px 12px;
            border-radius: 16px;
            font-size: 12px;
            font-weight: 500;
        }
        .badge-blue { background: #dbeafe; color: #1e40af; }
        .badge-green { background: #dcfce7; color: #166534; }
        .badge-red { background: #fee2e2; color: #991b1b; }
        .badge-yellow { background: #fef9c3; color: #854d0e; }
        .badge-purple { background: #f3e8ff; color: #6b21a8; }
        
        .level-badge {
            padding: 2px 10px;
            border-radius: 12px;
            font-size: 11px;
            font-weight: 500;
            color: white;
        }
        .level-grund { background: #3b82f6; }
        .level-komplex { background: #f59e0b; }
        .level-system { background: #dc2626; }
        
        /* Cards */
        .card {
            background: white;
            border: 1px solid #e2e8f0;
            border-radius: 10px;
            padding: 16px;
            margin-bottom: 12px;
            cursor: pointer;
            transition: all 0.2s;
        }
        .card:hover { border-color: #cbd5e1; }
        .card.selected {
            background: #eff6ff;
            border: 2px solid #2563eb;
        }
        .card-title {
            font-size: 15px;
            font-weight: 600;
            color: #1e293b;
            margin: 0;
        }
        .card-desc {
            color: #475569;
            font-size: 14px;
            line-height: 1.6;
            margin-top: 8px;
        }
        
        /* Buttons */
        .btn {
            border: none;
            border-radius: 8px;
            padding: 10px 20px;
            font-size: 14px;
            cursor: pointer;
            transition: all 0.2s;
        }
        .btn-primary {
            background: #2563eb;
            color: white;
        }
        .btn-primary:hover { background: #1d4ed8; }
        .btn-primary:disabled {
            background: #94a3b8;
            cursor: not-allowed;
        }
        .btn-secondary {
            background: white;
            color: #374151;
            border: 1px solid #d1d5db;
        }
        .btn-secondary:hover { background: #f9fafb; }
        .btn-success {
            background: #22c55e;
            color: white;
        }
        .btn-success:hover { background: #16a34a; }
        .btn-large {
            padding: 14px 32px;
            font-size: 16px;
            font-weight: 500;
        }
        
        /* Toggle buttons */
        .toggle-btn {
            background: white;
            color: #374151;
            border: 1px solid #d1d5db;
            border-radius: 20px;
            padding: 8px 16px;
            font-size: 13px;
            cursor: pointer;
            transition: all 0.2s;
            margin: 4px;
        }
        .toggle-btn.selected {
            background: #22c55e;
            color: white;
            border-color: #22c55e;
        }
        .toggle-btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }
        
        .solution-btn {
            background: white;
            color: #374151;
            border: 1px solid #d1d5db;
            border-radius: 6px;
            padding: 6px 12px;
            font-size: 13px;
            cursor: pointer;
            transition: all 0.2s;
            margin: 4px;
        }
        .solution-btn.selected {
            background: #fbbf24;
            color: #1e293b;
            border-color: #fbbf24;
        }
        
        /* Checkboxes */
        .checkbox-card {
            background: white;
            border: 1px solid #e2e8f0;
            border-radius: 8px;
            padding: 12px 16px;
            margin-bottom: 8px;
            cursor: pointer;
            transition: all 0.2s;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        .checkbox-card.selected {
            background: #fef2f2;
            border: 2px solid #dc2626;
        }
        .checkbox-box {
            width: 20px;
            height: 20px;
            border-radius: 4px;
            border: 2px solid #d1d5db;
            background: white;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 14px;
            flex-shrink: 0;
        }
        .checkbox-card.selected .checkbox-box {
            background: #dc2626;
            border: none;
        }
        .checkbox-label strong {
            display: block;
            font-weight: 500;
            color: #1e293b;
            font-size: 14px;
        }
        .checkbox-label span {
            color: #6b7280;
            font-size: 12px;
        }
        
        /* Forms */
        textarea {
            width: 100%;
            padding: 12px;
            border: 1px solid #d1d5db;
            border-radius: 8px;
            font-size: 14px;
            line-height: 1.6;
            resize: vertical;
            font-family: inherit;
        }
        textarea:focus {
            outline: none;
            border-color: #2563eb;
        }
        .char-count {
            font-size: 12px;
            color: #9ca3af;
            margin-top: 4px;
        }
        
        /* Info boxes */
        .info-box {
            border-radius: 10px;
            padding: 16px;
            margin-bottom: 20px;
        }
        .info-box-light {
            background: #f8fafc;
            border: 1px solid #e2e8f0;
        }
        .info-box-green {
            background: #f0fdf4;
            border: 1px solid #bbf7d0;
        }
        .info-box-yellow {
            background: #fef3c7;
        }
        .info-box-purple {
            background: #faf5ff;
            border: 1px solid #e9d5ff;
        }
        .info-box p { margin: 0; }
        .info-box-green p { color: #15803d; }
        .info-box-green strong { color: #166534; }
        .info-box-yellow p { color: #92400e; font-size: 14px; }
        .info-box-purple p { color: #7c3aed; font-size: 14px; }
        .info-box-purple strong { color: #6b21a8; }
        
        /* Navigation */
        .nav-bar {
            display: flex;
            justify-content: space-between;
            margin-top: 32px;
            padding-top: 20px;
            border-top: 1px solid #e2e8f0;
        }
        
        /* Start page */
        .start-page { text-align: center; padding: 20px; }
        .start-icon { font-size: 64px; margin-bottom: 20px; }
        .start-subtitle { font-size: 16px; color: #64748b; margin-bottom: 32px; }
        .instructions-list {
            color: #475569;
            padding-left: 20px;
            line-height: 1.8;
            text-align: left;
        }
        .instructions-box {
            background: white;
            border-radius: 8px;
            padding: 16px;
            border: 1px solid #e2e8f0;
            margin-top: 16px;
        }
        .instructions-box p {
            font-weight: 500;
            color: #334155;
            margin-bottom: 8px;
        }
        
        /* Summary */
        .summary-box {
            background: #f8fafc;
            border: 1px solid #e2e8f0;
            border-radius: 10px;
            padding: 20px;
            margin-bottom: 20px;
            max-height: 400px;
            overflow: auto;
        }
        .summary-text {
            font-family: monospace;
            font-size: 12px;
            white-space: pre-wrap;
            color: #334155;
            line-height: 1.6;
        }
        
        /* Section headers */
        .section-header {
            font-size: 14px;
            font-weight: 600;
            margin-bottom: 10px;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }
        .section-header-tech { color: #0369a1; }
        .section-header-policy { color: #7c2d12; }
        .section-header-social { color: #166534; }
        
        /* Utility */
        .mb-16 { margin-bottom: 16px; }
        .mb-24 { margin-bottom: 24px; }
        .mt-8 { margin-top: 8px; }
        .text-center { text-align: center; }
        .flex-wrap { display: flex; flex-wrap: wrap; }
    </style>
</head>
<body>
    <div class="container">
        <!-- Progress Bar -->
        <div id="progressBar" class="progress-bar hidden">
            <div class="progress-step" id="prog1"></div>
            <div class="progress-step" id="prog2"></div>
            <div class="progress-step" id="prog3"></div>
            <div class="progress-step" id="prog4"></div>
            <div class="progress-step" id="prog5"></div>
        </div>

        <!-- Step 0: Start -->
        <div id="step0" class="start-page">
            <div class="start-icon">üé¥</div>
            <h1>ALGORITMER &amp; ANSVAR</h1>
            <p class="start-subtitle">Ett individuellt reflektionsverktyg f√∂r AI-etik</p>
            
            <div class="info-box info-box-light" style="text-align: left;">
                <h3>Instruktioner</h3>
                <p style="color: #475569; line-height: 1.7; margin-bottom: 16px;">
                    Detta √§r en ers√§ttningsuppgift f√∂r workshopmomentet med etikspelet. Du kommer att arbeta igenom samma reflektionsprocess som dina kurskamrater gjorde i grupp, men sj√§lvst√§ndigt och dokumenterat.
                </p>
                <div class="instructions-box">
                    <p>Du kommer att:</p>
                    <ol class="instructions-list">
                        <li>V√§lja ett etiskt dilemma (scenariokort)</li>
                        <li>Analysera det fr√•n olika intressenters perspektiv</li>
                        <li>Identifiera relevanta etikomr√•den</li>
                        <li>F√∂resl√• m√∂jliga l√∂sningar</li>
                        <li>Reflektera √∂ver dina insikter</li>
                    </ol>
                </div>
            </div>

            <div class="info-box info-box-yellow">
                <p><strong>Tips:</strong> Ta god tid p√• dig. Kvaliteten p√• din analys √§r viktigare √§n att g√• snabbt igenom stegen. I slutet kan du kopiera din sammanfattning f√∂r inl√§mning.</p>
            </div>

            <button class="btn btn-primary btn-large" onclick="goToStep(1)">Starta uppgiften ‚Üí</button>
        </div>

        <!-- Step 1: Scenario -->
        <div id="step1" class="hidden">
            <span class="badge badge-blue">STEG 1 av 5</span>
            <h2>V√§lj ett scenario</h2>
            <p class="mb-24">L√§s igenom de olika scenarierna och v√§lj ett som du vill analysera djupare.</p>
            <div id="scenarioList"></div>
        </div>

        <!-- Step 2: Perspectives -->
        <div id="step2" class="hidden">
            <span class="badge badge-green">STEG 2 av 5</span>
            <h2>Perspektivanalys</h2>
            <p class="mb-24">V√§lj 2-3 perspektiv och analysera scenariot fr√•n varje intressents synvinkel.</p>
            
            <div class="info-box info-box-green mb-16">
                <p><strong>Ditt scenario:</strong></p>
                <p id="selectedScenarioTitle"></p>
            </div>
            
            <p style="font-weight: 500; color: #334155; margin-bottom: 12px;">
                V√§lj 2-3 perspektiv (<span id="perspectiveCount">0</span>/3 valda):
            </p>
            <div id="perspectiveButtons" class="flex-wrap mb-24"></div>
            <div id="perspectiveInputs"></div>
        </div>

        <!-- Step 3: Ethics -->
        <div id="step3" class="hidden">
            <span class="badge badge-red">STEG 3 av 5</span>
            <h2>Identifiera etikomr√•den</h2>
            <p class="mb-24">Vilka etiska aspekter √§r mest relevanta f√∂r detta scenario?</p>
            
            <p style="font-weight: 500; color: #334155; margin-bottom: 12px;">
                V√§lj de etikomr√•den du anser vara mest relevanta:
            </p>
            <div id="ethicsList" class="mb-24"></div>
            
            <div>
                <label style="display: block; font-weight: 500; color: #1e293b; margin-bottom: 8px;">
                    Motivera ditt val av etikomr√•den:
                </label>
                <textarea id="ethicsMotivation" rows="4" placeholder="F√∂rklara varf√∂r du valde dessa etikomr√•den och hur de relaterar till scenariot..."></textarea>
                <p class="char-count"><span id="ethicsCharCount">0</span> tecken (minst 30 kr√§vs)</p>
            </div>
        </div>

        <!-- Step 4: Solutions -->
        <div id="step4" class="hidden">
            <span class="badge badge-yellow">STEG 4 av 5</span>
            <h2>F√∂resl√• l√∂sningar</h2>
            <p class="mb-24">V√§lj 2-4 l√∂sningar som du tror kan hantera de etiska problemen i scenariot.</p>
            
            <div class="mb-16">
                <p class="section-header section-header-tech">‚öôÔ∏è Tekniska l√∂sningar</p>
                <div id="techSolutions" class="flex-wrap"></div>
            </div>
            
            <div class="mb-16">
                <p class="section-header section-header-policy">üìã Policyl√∂sningar</p>
                <div id="policySolutions" class="flex-wrap"></div>
            </div>
            
            <div class="mb-16">
                <p class="section-header section-header-social">üë• Sociala l√∂sningar</p>
                <div id="socialSolutions" class="flex-wrap"></div>
            </div>
            
            <p style="font-size: 13px; color: #6b7280; margin-bottom: 16px;">
                Valda l√∂sningar: <span id="solutionCount">0</span>/4
            </p>
            
            <div>
                <label style="display: block; font-weight: 500; color: #1e293b; margin-bottom: 8px;">
                    Motivera ditt val av l√∂sningar:
                </label>
                <textarea id="solutionMotivation" rows="4" placeholder="F√∂rklara hur dessa l√∂sningar kan hantera de etiska problemen i scenariot. Vilka l√∂sningar kompletterar varandra?"></textarea>
                <p class="char-count"><span id="solutionCharCount">0</span> tecken (minst 30 kr√§vs)</p>
            </div>
        </div>

        <!-- Step 5: Reflection -->
        <div id="step5" class="hidden">
            <span class="badge badge-purple">STEG 5 av 5</span>
            <h2>Slutreflektion</h2>
            <p class="mb-24">Sammanfatta dina viktigaste insikter fr√•n denna analys.</p>
            
            <div class="info-box info-box-purple mb-16">
                <p><strong>Reflektera √∂ver:</strong></p>
                <ul style="padding-left: 20px; margin-top: 8px; line-height: 1.8;">
                    <li>Vilka intressekonflikter uppt√§ckte du mellan olika perspektiv?</li>
                    <li>Hur h√§nger de etiska problemen ihop med varandra?</li>
                    <li>Vilka utmaningar finns med de l√∂sningar du f√∂reslagit?</li>
                    <li>Vad tar du med dig fr√•n denna analys?</li>
                </ul>
            </div>
            
            <div>
                <textarea id="reflection" rows="8" placeholder="Skriv din reflektion h√§r..."></textarea>
                <p class="char-count"><span id="reflectionCharCount">0</span> tecken (minst 50 kr√§vs)</p>
            </div>
        </div>

        <!-- Step 6: Summary -->
        <div id="step6" class="hidden text-center">
            <div style="font-size: 48px; margin-bottom: 16px;">‚úÖ</div>
            <h2>Uppgiften √§r klar!</h2>
            <p class="mb-24">Nedan ser du en sammanfattning av din analys. Kopiera texten och l√§mna in enligt kursens instruktioner.</p>
            
            <div class="summary-box" style="text-align: left;">
                <pre class="summary-text" id="summaryText"></pre>
            </div>
            
            <button class="btn btn-success btn-large" onclick="copyToClipboard()" id="copyBtn">üìã Kopiera till urklipp</button>
            <button class="btn btn-secondary btn-large" onclick="restart()" style="margin-left: 12px;">B√∂rja om</button>
        </div>

        <!-- Navigation -->
        <div id="navBar" class="nav-bar hidden">
            <button class="btn btn-secondary" onclick="prevStep()">‚Üê Tillbaka</button>
            <button class="btn btn-primary" onclick="nextStep()" id="nextBtn">N√§sta ‚Üí</button>
        </div>
    </div>

    <script>
        // Data
        const scenarios = [
            { id: 1, level: 'Grundl√§ggande', title: 'Bias i ans√∂kningsprocesser', description: 'En stor h√∂gskola anv√§nder AI f√∂r att sortera tusentals ans√∂kningar. Systemet har tr√§nats p√• historiska data fr√•n tidigare antagna studenter. Efter ett √•r uppt√§cker skolan att AI:n systematiskt rangordnar kvinnliga s√∂kande l√§gre inom tekniska program, trots lika meriter.' },
            { id: 2, level: 'Grundl√§ggande', title: 'Milj√∂p√•verkan av AI-tr√§ning', description: 'Ett tech-f√∂retag tr√§nar en ny spr√•kmodell som konkurrerar med ChatGPT. Tr√§ningsprocessen kr√§ver enorma datorcenter som drivs dygnet runt i sex m√•nader och f√∂rbrukar lika mycket el som en mindre stad. Samtidigt marknadsf√∂r f√∂retaget sig som "milj√∂v√§nligt".' },
            { id: 3, level: 'Grundl√§ggande', title: 'AI-genererade fejknyheter', description: 'En AI-bot skapar hundratals falska nyhetsartiklar om en pandemi och sprider dem p√• Facebook. Artiklarna ser professionella ut med p√•hittade experter och statistik. Tusentals m√§nniskor delar inneh√•llet innan plattformen uppt√§cker bedr√§geriet.' },
            { id: 4, level: 'Grundl√§ggande', title: 'Fusk med ChatGPT i skolan', description: 'Emma ska skriva en uppsats om klimatf√∂r√§ndringar. Hon anv√§nder ChatGPT f√∂r att generera hela texten, √§ndrar n√•gra meningar och l√§mnar in som sitt eget arbete. Hennes l√§rare misst√§nker inget, men Emma k√§nner sig os√§ker p√• vad hon faktiskt l√§rt sig.' },
            { id: 5, level: 'Grundl√§ggande', title: 'Ansiktsigenk√§nning i skolor', description: 'En skola installerar kameror med ansiktsigenk√§nning f√∂r att "f√∂rb√§ttra s√§kerheten". Systemet registrerar varje elevs ankomst, r√∂relser i korridorerna och k√§nslouttryck under lektioner. F√∂r√§ldrarna fick ingen information om systemet f√∂rr√§n efter installationen.' },
            { id: 6, level: 'Komplex', title: 'Datafiering av utbildning', description: 'En l√§rplattform samlar in detaljerad data om alla elevinteraktioner: vilka sidor de bes√∂ker, hur l√§nge de l√§ser, n√§r de pausar, vad de klickar p√•. Datan s√§ljs till f√∂retag som utvecklar "personaliserade" l√§romedel. Eleverna vet inte att deras beteende kartl√§ggs och s√§ljs.' },
            { id: 7, level: 'Komplex', title: '√ñvervakning genom affektigenk√§nning', description: 'En arbetsplats installerar kameror som l√§ser anst√§lldas ansiktsuttryck f√∂r att m√§ta "engagemang" och "produktivitet". AI:n flaggar medarbetare som verkar stressade, tr√∂tta eller missn√∂jda. Denna data anv√§nds vid l√∂nef√∂rhandlingar och upps√§gningar.' },
            { id: 8, level: 'Komplex', title: 'Politisk manipulation genom deepfakes', description: 'Veckor f√∂re ett viktigt val sprids en video p√• sociala medier som visar en kandidat s√§ga kontroversiella saker. Videon √§r s√• √∂vertygande att den delas tusentals g√•nger innan det avsl√∂jas att det √§r en AI-genererad deepfake. Skadan p√• kandidatens rykte √§r redan skedd.' },
            { id: 9, level: 'Komplex', title: 'Upphovsr√§ttstvister vid AI-tr√§ning', description: 'Ett AI-f√∂retag tr√§nar sin bildgenererande AI p√• miljontals konstverk fr√•n internet utan att fr√•ga konstn√§rerna. N√§r AI:n b√∂rjar generera bilder "i stil med" levande konstn√§rer st√§mmer konstn√§rerna f√∂retaget. F√∂retaget h√§vdar att AI:n bara "l√§rt sig" som en m√§nniska skulle g√∂ra.' },
            { id: 10, level: 'Systemisk', title: 'Exploatering av m√§nskligt arbete', description: 'F√∂r att tr√§na ChatGPT att vara "s√§ker" anst√§ller OpenAI arbetare i Kenya f√∂r 2 dollar/timme. De m√•ste l√§sa och kategorisera extremt v√•ldsamt och traumatiserande inneh√•ll 8 timmar om dagen utan psykologiskt st√∂d. F√∂retaget marknadsf√∂r sin AI som "etisk" medan de utnyttjar billig arbetskraft.' },
            { id: 11, level: 'Systemisk', title: 'Framtiden f√∂r m√§nsklig autonomi', description: 'AI-system fattar allt fler beslut √•t m√§nniskor: vad vi ska k√∂pa, vem vi ska tr√§ffa, vilka jobb vi ska s√∂ka, vilken information vi ska se. Algoritmerna blir s√• sofistikerade att de vet vad vi vill innan vi sj√§lva vet det. Har vi fortfarande fri vilja n√§r AI styr v√•ra val?' },
            { id: 12, level: 'Systemisk', title: 'AI som verktyg f√∂r f√∂rtryck', description: 'En regering anv√§nder AI f√∂r mass√∂vervakning av sin befolkning. Systemet k√§nner igen ansikten, r√∂ster och r√∂relsem√∂nster. Det f√∂ruts√§ger vilka medborgare som kan bli "problematiska" och arresterar dem f√∂re eventuella protester. Regeringen kallar det "f√∂rebyggande s√§kerhet".' }
        ];

        const perspectives = [
            { id: 1, name: 'Studerande', description: 'En person som utbildar sig och p√•verkas av AI i sin vardag och framtida karri√§r' },
            { id: 2, name: 'L√§rare', description: 'En utbildare som anv√§nder och konfronteras med AI i undervisningen' },
            { id: 3, name: 'Utvecklare', description: 'En programmerare som skapar AI-system och fattar tekniska beslut' },
            { id: 4, name: 'F√∂retagsledare', description: 'En beslutsfattare som v√§ger ekonomiska intressen mot etiska √∂verv√§ganden' },
            { id: 5, name: 'Politiker', description: 'En beslutsfattare som ska reglera och styra AI-utvecklingen' },
            { id: 6, name: 'F√∂r√§lder', description: 'En v√•rdnadshavare som oroar sig f√∂r sina barns framtid och s√§kerhet' },
            { id: 7, name: 'Konsument', description: 'En anv√§ndare av AI-tj√§nster som p√•verkas av algoritmernas beslut' },
            { id: 8, name: 'Forskare', description: 'En akademiker som studerar AI:s konsekvenser och m√∂jligheter' },
            { id: 9, name: 'Journalist', description: 'En granskare som rapporterar om AI:s p√•verkan p√• samh√§llet' },
            { id: 10, name: 'Aktivist', description: 'En samh√§llsengagerad person som k√§mpar f√∂r r√§ttvis AI' }
        ];

        const ethicsAreas = [
            { id: 1, name: 'Bias och diskriminering', description: 'AI-system kan f√∂rst√§rka och sprida or√§ttvisor baserat p√• k√∂n, etnicitet, √•lder etc.' },
            { id: 2, name: 'Milj√∂p√•verkan', description: 'AI-tr√§ning och drift kr√§ver enorma m√§ngder energi och resurser' },
            { id: 3, name: 'Fejknyheter och desinformation', description: 'AI kan skapa och sprida falsk information i stor skala' },
            { id: 4, name: 'Akademisk hederlighet', description: 'AI utmanar traditionella syner p√• l√§rande, originalitet och examination' },
            { id: 5, name: 'Upphovsr√§tt', description: 'Vem √§ger AI-genererat inneh√•ll? Hur hanteras tr√§ningsdata?' },
            { id: 6, name: 'Integritet', description: 'AI-system samlar och analyserar personlig data i stor utstr√§ckning' },
            { id: 7, name: 'Datafiering', description: 'Att g√∂ra allt till m√§tbar data, √§ven m√§nskliga beteenden och relationer' },
            { id: 8, name: 'Affektigenk√§nning', description: 'AI som l√§ser och tolkar m√§nskliga k√§nslor och ansiktsuttryck' },
            { id: 9, name: 'M√§nskligt arbete', description: 'AI:s p√•verkan p√• jobb, arbetsvillkor och exploatering av arbetare' },
            { id: 10, name: 'Makt och kontroll', description: 'Vem har makten √∂ver AI-system och vem p√•verkas av dem?' }
        ];

        const solutions = {
            technical: [
                { id: 1, name: 'Transparenta AI-algoritmer', description: 'F√∂rklara hur AI fattar beslut' },
                { id: 2, name: 'Diversifierade tr√§ningsdata', description: 'Inkludera fler perspektiv i data' },
                { id: 3, name: 'Kryptering och datas√§kerhet', description: 'Skydda personlig information' },
                { id: 4, name: 'Anv√§ndarkontroll √∂ver automation', description: 'L√•t m√§nniskor v√§lja n√§r AI anv√§nds' },
                { id: 5, name: 'Bias-detektering', description: 'Testa AI-system f√∂r or√§ttvisor' },
                { id: 6, name: 'Energieffektiv AI', description: 'Minska milj√∂p√•verkan av datorcenter' },
                { id: 7, name: '√ñppen k√§llkod', description: 'Dela AI-kod f√∂r granskning' },
                { id: 8, name: 'M√§nniskor-i-loopen design', description: 'H√•ll m√§nniskor i besluten' }
            ],
            policy: [
                { id: 9, name: 'Regeringsreglering', description: 'Lagar som styr AI-anv√§ndning' },
                { id: 10, name: 'Branschstandarder', description: 'F√∂retag enas om etiska regler' },
                { id: 11, name: 'Etiska riktlinjer', description: 'V√§gledning f√∂r ansvarsfull utveckling' },
                { id: 12, name: 'Konsumentskydd', description: 'Lagar som skyddar anv√§ndare' },
                { id: 13, name: 'Transparenskrav', description: 'Krav p√• √∂ppenhet om AI-system' },
                { id: 14, name: 'Dataskyddslagar', description: 'Regler f√∂r personuppgifter' },
                { id: 15, name: 'AI-auditering', description: 'Oberoende granskning av AI-system' },
                { id: 16, name: 'Internationella avtal', description: 'Globalt samarbete om AI-etik' }
            ],
            social: [
                { id: 17, name: 'Utbildning och medvetenhet', description: 'L√§r m√§nniskor om AI:s p√•verkan' },
                { id: 18, name: 'Offentlig debatt', description: 'Diskutera AI:s roll i samh√§llet' },
                { id: 19, name: 'Aktivism och p√•tryckningar', description: 'Organisera f√∂r f√∂r√§ndring' },
                { id: 20, name: 'Etisk design-principer', description: 'Bygga v√§rderingar i utvecklingen' },
                { id: 21, name: 'M√•ngfald i utvecklingsteam', description: 'Olika perspektiv skapar b√§ttre AI' },
                { id: 22, name: 'Community-engagement', description: 'Involvera ber√∂rda grupper' },
                { id: 23, name: 'Mediekritik', description: 'Granska AI-f√∂retags p√•st√•enden' },
                { id: 24, name: 'Kollektiv handling', description: 'Gemensam kamp f√∂r r√§ttvis AI' }
            ]
        };

        // State
        let currentStep = 0;
        let selectedScenario = null;
        let selectedPerspectives = [];
        let perspectiveAnalysis = {};
        let selectedEthics = [];
        let selectedSolutions = [];

        // Initialize
        document.addEventListener('DOMContentLoaded', function() {
            renderScenarios();
            renderPerspectiveButtons();
            renderEthicsList();
            renderSolutions();
            setupTextareaListeners();
        });

        function renderScenarios() {
            const container = document.getElementById('scenarioList');
            container.innerHTML = scenarios.map(s => {
                const levelClass = s.level === 'Grundl√§ggande' ? 'level-grund' : 
                                   s.level === 'Komplex' ? 'level-komplex' : 'level-system';
                return `
                    <div class="card" id="scenario-${s.id}" onclick="selectScenario(${s.id})">
                        <div style="display: flex; align-items: center; gap: 12px; margin-bottom: 8px;">
                            <span class="level-badge ${levelClass}">${s.level}</span>
                            <p class="card-title">${s.title}</p>
                        </div>
                        <p class="card-desc">${s.description}</p>
                    </div>
                `;
            }).join('');
        }

        function selectScenario(id) {
            selectedScenario = scenarios.find(s => s.id === id);
            document.querySelectorAll('#scenarioList .card').forEach(c => c.classList.remove('selected'));
            document.getElementById('scenario-' + id).classList.add('selected');
            updateNavButton();
        }

        function renderPerspectiveButtons() {
            const container = document.getElementById('perspectiveButtons');
            container.innerHTML = perspectives.map(p => 
                `<button class="toggle-btn" id="persp-btn-${p.id}" onclick="togglePerspective(${p.id})">${p.name}</button>`
            ).join('');
        }

        function togglePerspective(id) {
            const idx = selectedPerspectives.findIndex(p => p.id === id);
            if (idx > -1) {
                selectedPerspectives.splice(idx, 1);
                delete perspectiveAnalysis[id];
            } else if (selectedPerspectives.length < 3) {
                selectedPerspectives.push(perspectives.find(p => p.id === id));
            }
            updatePerspectiveUI();
            updateNavButton();
        }

        function updatePerspectiveUI() {
            document.getElementById('perspectiveCount').textContent = selectedPerspectives.length;
            
            perspectives.forEach(p => {
                const btn = document.getElementById('persp-btn-' + p.id);
                const isSelected = selectedPerspectives.find(sp => sp.id === p.id);
                btn.classList.toggle('selected', isSelected);
                btn.disabled = !isSelected && selectedPerspectives.length >= 3;
            });
            
            const inputsContainer = document.getElementById('perspectiveInputs');
            inputsContainer.innerHTML = selectedPerspectives.map(p => `
                <div style="margin-bottom: 20px;">
                    <label style="display: block; font-weight: 500; color: #1e293b; margin-bottom: 8px;">
                        ${p.name}: ${p.description}
                    </label>
                    <textarea id="persp-analysis-${p.id}" rows="4" 
                        placeholder="Hur ser ${p.name.toLowerCase()} p√• detta scenario? Vilka intressen har de? Hur p√•verkas de?"
                        oninput="updatePerspectiveAnalysis(${p.id}, this.value)">${perspectiveAnalysis[p.id] || ''}</textarea>
                    <p class="char-count"><span id="persp-count-${p.id}">${(perspectiveAnalysis[p.id] || '').length}</span> tecken (minst 20 kr√§vs)</p>
                </div>
            `).join('');
        }

        function updatePerspectiveAnalysis(id, value) {
            perspectiveAnalysis[id] = value;
            document.getElementById('persp-count-' + id).textContent = value.length;
            updateNavButton();
        }

        function renderEthicsList() {
            const container = document.getElementById('ethicsList');
            container.innerHTML = ethicsAreas.map(e => `
                <div class="checkbox-card" id="ethics-${e.id}" onclick="toggleEthics(${e.id})">
                    <div class="checkbox-box"></div>
                    <div class="checkbox-label">
                        <strong>${e.name}</strong>
                        <span>${e.description}</span>
                    </div>
                </div>
            `).join('');
        }

        function toggleEthics(id) {
            const idx = selectedEthics.findIndex(e => e.id === id);
            if (idx > -1) {
                selectedEthics.splice(idx, 1);
            } else {
                selectedEthics.push(ethicsAreas.find(e => e.id === id));
            }
            
            ethicsAreas.forEach(e => {
                const card = document.getElementById('ethics-' + e.id);
                const isSelected = selectedEthics.find(se => se.id === e.id);
                card.classList.toggle('selected', isSelected);
                card.querySelector('.checkbox-box').innerHTML = isSelected ? '‚úì' : '';
            });
            updateNavButton();
        }

        function renderSolutions() {
            ['technical', 'policy', 'social'].forEach(category => {
                const containerId = category === 'technical' ? 'techSolutions' : 
                                    category === 'policy' ? 'policySolutions' : 'socialSolutions';
                const container = document.getElementById(containerId);
                container.innerHTML = solutions[category].map(s => 
                    `<button class="solution-btn" id="sol-${s.id}" title="${s.description}" onclick="toggleSolution(${s.id})">${s.name}</button>`
                ).join('');
            });
        }

        function toggleSolution(id) {
            const idx = selectedSolutions.findIndex(s => s.id === id);
            const allSolutions = [...solutions.technical, ...solutions.policy, ...solutions.social];
            
            if (idx > -1) {
                selectedSolutions.splice(idx, 1);
            } else if (selectedSolutions.length < 4) {
                selectedSolutions.push(allSolutions.find(s => s.id === id));
            }
            
            allSolutions.forEach(s => {
                const btn = document.getElementById('sol-' + s.id);
                const isSelected = selectedSolutions.find(ss => ss.id === s.id);
                btn.classList.toggle('selected', isSelected);
                btn.disabled = !isSelected && selectedSolutions.length >= 4;
            });
            
            document.getElementById('solutionCount').textContent = selectedSolutions.length;
            updateNavButton();
        }

        function setupTextareaListeners() {
            document.getElementById('ethicsMotivation').addEventListener('input', function() {
                document.getElementById('ethicsCharCount').textContent = this.value.length;
                updateNavButton();
            });
            document.getElementById('solutionMotivation').addEventListener('input', function() {
                document.getElementById('solutionCharCount').textContent = this.value.length;
                updateNavButton();
            });
            document.getElementById('reflection').addEventListener('input', function() {
                document.getElementById('reflectionCharCount').textContent = this.value.length;
                updateNavButton();
            });
        }

        function canProceed() {
            switch(currentStep) {
                case 1: return selectedScenario !== null;
                case 2: return selectedPerspectives.length >= 2 && 
                               selectedPerspectives.every(p => (perspectiveAnalysis[p.id] || '').length > 20);
                case 3: return selectedEthics.length >= 1 && 
                               document.getElementById('ethicsMotivation').value.length > 30;
                case 4: return selectedSolutions.length >= 2 && 
                               document.getElementById('solutionMotivation').value.length > 30;
                case 5: return document.getElementById('reflection').value.length > 50;
                default: return true;
            }
        }

        function updateNavButton() {
            const nextBtn = document.getElementById('nextBtn');
            if (nextBtn) {
                nextBtn.disabled = !canProceed();
                nextBtn.textContent = currentStep === 5 ? 'Avsluta ‚Üí' : 'N√§sta ‚Üí';
            }
        }

        function updateProgress() {
            for (let i = 1; i <= 5; i++) {
                document.getElementById('prog' + i).classList.toggle('active', i <= currentStep);
            }
        }

        function goToStep(step) {
            document.getElementById('step' + currentStep).classList.add('hidden');
            currentStep = step;
            document.getElementById('step' + currentStep).classList.remove('hidden');
            
            document.getElementById('progressBar').classList.toggle('hidden', step === 0 || step === 6);
            document.getElementById('navBar').classList.toggle('hidden', step === 0 || step === 6);
            
            if (step === 2) {
                document.getElementById('selectedScenarioTitle').textContent = selectedScenario.title;
                updatePerspectiveUI();
            }
            
            if (step === 6) {
                generateSummary();
            }
            
            updateProgress();
            updateNavButton();
        }

        function nextStep() {
            if (canProceed()) {
                goToStep(currentStep + 1);
            }
        }

        function prevStep() {
            goToStep(currentStep - 1);
        }

        function generateSummary() {
            const date = new Date().toLocaleDateString('sv-SE');
            const ethicsMotivation = document.getElementById('ethicsMotivation').value;
            const solutionMotivation = document.getElementById('solutionMotivation').value;
            const reflection = document.getElementById('reflection').value;
            
            let summary = `ALGORITMER & ANSVAR - Individuell reflektion
Kurs: VAI100 HT25
Datum: ${date}

‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê

SCENARIO: ${selectedScenario.title}
Niv√•: ${selectedScenario.level}

${selectedScenario.description}

‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê

PERSPEKTIVANALYS:

${selectedPerspectives.map(p => `‚ñ∏ ${p.name}
${perspectiveAnalysis[p.id]}`).join('\n\n')}

‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê

IDENTIFIERADE ETIKOMR√ÖDEN:

${selectedEthics.map(e => `‚Ä¢ ${e.name}`).join('\n')}

Motivering:
${ethicsMotivation}

‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê

F√ñRESLAGNA L√ñSNINGAR:

${selectedSolutions.map(s => `‚Ä¢ ${s.name} (${s.description})`).join('\n')}

Motivering:
${solutionMotivation}

‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê

SLUTREFLEKTION:

${reflection}

‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê`;

            document.getElementById('summaryText').textContent = summary;
        }

        function copyToClipboard() {
            const text = document.getElementById('summaryText').textContent;
            navigator.clipboard.writeText(text).then(() => {
                const btn = document.getElementById('copyBtn');
                btn.textContent = '‚úì Kopierat!';
                btn.style.background = '#16a34a';
                setTimeout(() => {
                    btn.textContent = 'üìã Kopiera till urklipp';
                    btn.style.background = '#22c55e';
                }, 2000);
            });
        }

        function restart() {
            selectedScenario = null;
            selectedPerspectives = [];
            perspectiveAnalysis = {};
            selectedEthics = [];
            selectedSolutions = [];
            
            document.querySelectorAll('.card.selected').forEach(c => c.classList.remove('selected'));
            document.querySelectorAll('.toggle-btn.selected').forEach(b => b.classList.remove('selected'));
            document.querySelectorAll('.checkbox-card.selected').forEach(c => {
                c.classList.remove('selected');
                c.querySelector('.checkbox-box').innerHTML = '';
            });
            document.querySelectorAll('.solution-btn.selected').forEach(b => b.classList.remove('selected'));
            document.querySelectorAll('.solution-btn').forEach(b => b.disabled = false);
            
            document.getElementById('ethicsMotivation').value = '';
            document.getElementById('ethicsCharCount').textContent = '0';
            document.getElementById('solutionMotivation').value = '';
            document.getElementById('solutionCharCount').textContent = '0';
            document.getElementById('reflection').value = '';
            document.getElementById('reflectionCharCount').textContent = '0';
            document.getElementById('perspectiveCount').textContent = '0';
            document.getElementById('solutionCount').textContent = '0';
            
            goToStep(0);
        }
    </script>
</body>
</html>
