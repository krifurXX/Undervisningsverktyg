<!DOCTYPE html>
<html lang="sv">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ALGORITMER & ANSVAR - Ers√§ttningsuppgift VAI100</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/react/18.2.0/umd/react.production.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/react-dom/18.2.0/umd/react-dom.production.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/babel-standalone/7.23.5/babel.min.js"></script>
    <style>
        * {
            box-sizing: border-box;
        }
        body {
            margin: 0;
            padding: 0;
            background: #f1f5f9;
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
        }
        #root {
            min-height: 100vh;
        }
    </style>
</head>
<body>
    <div id="root"></div>
    
    <script type="text/babel">
        const { useState } = React;

        const scenarios = [
          {
            id: 1,
            level: 'Grundl√§ggande',
            title: 'Bias i ans√∂kningsprocesser',
            description: 'En stor h√∂gskola anv√§nder AI f√∂r att sortera tusentals ans√∂kningar. Systemet har tr√§nats p√• historiska data fr√•n tidigare antagna studenter. Efter ett √•r uppt√§cker skolan att AI:n systematiskt rangordnar kvinnliga s√∂kande l√§gre inom tekniska program, trots lika meriter.',
            suggestedEthics: ['Bias och diskriminering', 'Makt och kontroll']
          },
          {
            id: 2,
            level: 'Grundl√§ggande',
            title: 'Milj√∂p√•verkan av AI-tr√§ning',
            description: 'Ett tech-f√∂retag tr√§nar en ny spr√•kmodell som konkurrerar med ChatGPT. Tr√§ningsprocessen kr√§ver enorma datorcenter som drivs dygnet runt i sex m√•nader och f√∂rbrukar lika mycket el som en mindre stad. Samtidigt marknadsf√∂r f√∂retaget sig som "milj√∂v√§nligt".',
            suggestedEthics: ['Milj√∂p√•verkan', 'Makt och kontroll']
          },
          {
            id: 3,
            level: 'Grundl√§ggande',
            title: 'AI-genererade fejknyheter',
            description: 'En AI-bot skapar hundratals falska nyhetsartiklar om en pandemi och sprider dem p√• Facebook. Artiklarna ser professionella ut med p√•hittade experter och statistik. Tusentals m√§nniskor delar inneh√•llet innan plattformen uppt√§cker bedr√§geriet.',
            suggestedEthics: ['Fejknyheter och desinformation', 'Makt och kontroll']
          },
          {
            id: 4,
            level: 'Grundl√§ggande',
            title: 'Fusk med ChatGPT i skolan',
            description: 'Emma ska skriva en uppsats om klimatf√∂r√§ndringar. Hon anv√§nder ChatGPT f√∂r att generera hela texten, √§ndrar n√•gra meningar och l√§mnar in som sitt eget arbete. Hennes l√§rare misst√§nker inget, men Emma k√§nner sig os√§ker p√• vad hon faktiskt l√§rt sig.',
            suggestedEthics: ['Akademisk hederlighet', 'Upphovsr√§tt']
          },
          {
            id: 5,
            level: 'Grundl√§ggande',
            title: 'Ansiktsigenk√§nning i skolor',
            description: 'En skola installerar kameror med ansiktsigenk√§nning f√∂r att "f√∂rb√§ttra s√§kerheten". Systemet registrerar varje elevs ankomst, r√∂relser i korridorerna och k√§nslouttryck under lektioner. F√∂r√§ldrarna fick ingen information om systemet f√∂rr√§n efter installationen.',
            suggestedEthics: ['Integritet', 'Makt och kontroll', 'Affektigenk√§nning']
          },
          {
            id: 6,
            level: 'Komplex',
            title: 'Datafiering av utbildning',
            description: 'En l√§rplattform samlar in detaljerad data om alla elevinteraktioner: vilka sidor de bes√∂ker, hur l√§nge de l√§ser, n√§r de pausar, vad de klickar p√•. Datan s√§ljs till f√∂retag som utvecklar "personaliserade" l√§romedel. Eleverna vet inte att deras beteende kartl√§ggs och s√§ljs.',
            suggestedEthics: ['Datafiering', 'Integritet', 'Makt och kontroll']
          },
          {
            id: 7,
            level: 'Komplex',
            title: '√ñvervakning genom affektigenk√§nning',
            description: 'En arbetsplats installerar kameror som l√§ser anst√§lldas ansiktsuttryck f√∂r att m√§ta "engagemang" och "produktivitet". AI:n flaggar medarbetare som verkar stressade, tr√∂tta eller missn√∂jda. Denna data anv√§nds vid l√∂nef√∂rhandlingar och upps√§gningar.',
            suggestedEthics: ['Affektigenk√§nning', 'Integritet', 'Makt och kontroll']
          },
          {
            id: 8,
            level: 'Komplex',
            title: 'Politisk manipulation genom deepfakes',
            description: 'Veckor f√∂re ett viktigt val sprids en video p√• sociala medier som visar en kandidat s√§ga kontroversiella saker. Videon √§r s√• √∂vertygande att den delas tusentals g√•nger innan det avsl√∂jas att det √§r en AI-genererad deepfake. Skadan p√• kandidatens rykte √§r redan skedd.',
            suggestedEthics: ['Fejknyheter och desinformation', 'Makt och kontroll']
          },
          {
            id: 9,
            level: 'Komplex',
            title: 'Upphovsr√§ttstvister vid AI-tr√§ning',
            description: 'Ett AI-f√∂retag tr√§nar sin bildgenererande AI p√• miljontals konstverk fr√•n internet utan att fr√•ga konstn√§rerna. N√§r AI:n b√∂rjar generera bilder "i stil med" levande konstn√§rer st√§mmer konstn√§rerna f√∂retaget. F√∂retaget h√§vdar att AI:n bara "l√§rt sig" som en m√§nniska skulle g√∂ra.',
            suggestedEthics: ['Upphovsr√§tt', 'M√§nskligt arbete', 'Makt och kontroll']
          },
          {
            id: 10,
            level: 'Systemisk',
            title: 'Exploatering av m√§nskligt arbete',
            description: 'F√∂r att tr√§na ChatGPT att vara "s√§ker" anst√§ller OpenAI arbetare i Kenya f√∂r 2 dollar/timme. De m√•ste l√§sa och kategorisera extremt v√•ldsamt och traumatiserande inneh√•ll 8 timmar om dagen utan psykologiskt st√∂d. F√∂retaget marknadsf√∂r sin AI som "etisk" medan de utnyttjar billig arbetskraft.',
            suggestedEthics: ['M√§nskligt arbete', 'Makt och kontroll', 'Bias och diskriminering']
          },
          {
            id: 11,
            level: 'Systemisk',
            title: 'Framtiden f√∂r m√§nsklig autonomi',
            description: 'AI-system fattar allt fler beslut √•t m√§nniskor: vad vi ska k√∂pa, vem vi ska tr√§ffa, vilka jobb vi ska s√∂ka, vilken information vi ska se. Algoritmerna blir s√• sofistikerade att de vet vad vi vill innan vi sj√§lva vet det. Har vi fortfarande fri vilja n√§r AI styr v√•ra val?',
            suggestedEthics: ['Makt och kontroll', 'Datafiering', 'Integritet']
          },
          {
            id: 12,
            level: 'Systemisk',
            title: 'AI som verktyg f√∂r f√∂rtryck',
            description: 'En regering anv√§nder AI f√∂r mass√∂vervakning av sin befolkning. Systemet k√§nner igen ansikten, r√∂ster och r√∂relsem√∂nster. Det f√∂ruts√§ger vilka medborgare som kan bli "problematiska" och arresterar dem f√∂re eventuella protester. Regeringen kallar det "f√∂rebyggande s√§kerhet".',
            suggestedEthics: ['Makt och kontroll', 'Integritet', 'Bias och diskriminering']
          }
        ];

        const perspectives = [
          { id: 1, name: 'Studerande', description: 'En person som utbildar sig och p√•verkas av AI i sin vardag och framtida karri√§r' },
          { id: 2, name: 'L√§rare', description: 'En utbildare som anv√§nder och konfronteras med AI i undervisningen' },
          { id: 3, name: 'Utvecklare', description: 'En programmerare som skapar AI-system och fattar tekniska beslut' },
          { id: 4, name: 'F√∂retagsledare', description: 'En beslutsfattare som v√§ger ekonomiska intressen mot etiska √∂verv√§ganden' },
          { id: 5, name: 'Politiker', description: 'En beslutsfattare som ska reglera och styra AI-utvecklingen' },
          { id: 6, name: 'F√∂r√§lder', description: 'En v√•rdnadshavare som oroar sig f√∂r sina barns framtid och s√§kerhet' },
          { id: 7, name: 'Konsument', description: 'En anv√§ndare av AI-tj√§nster som p√•verkas av algoritmernas beslut' },
          { id: 8, name: 'Forskare', description: 'En akademiker som studerar AI:s konsekvenser och m√∂jligheter' },
          { id: 9, name: 'Journalist', description: 'En granskare som rapporterar om AI:s p√•verkan p√• samh√§llet' },
          { id: 10, name: 'Aktivist', description: 'En samh√§llsengagerad person som k√§mpar f√∂r r√§ttvis AI' }
        ];

        const ethicsAreas = [
          { id: 1, name: 'Bias och diskriminering', description: 'AI-system kan f√∂rst√§rka och sprida or√§ttvisor baserat p√• k√∂n, etnicitet, √•lder etc.' },
          { id: 2, name: 'Milj√∂p√•verkan', description: 'AI-tr√§ning och drift kr√§ver enorma m√§ngder energi och resurser' },
          { id: 3, name: 'Fejknyheter och desinformation', description: 'AI kan skapa och sprida falsk information i stor skala' },
          { id: 4, name: 'Akademisk hederlighet', description: 'AI utmanar traditionella syner p√• l√§rande, originalitet och examination' },
          { id: 5, name: 'Upphovsr√§tt', description: 'Vem √§ger AI-genererat inneh√•ll? Hur hanteras tr√§ningsdata?' },
          { id: 6, name: 'Integritet', description: 'AI-system samlar och analyserar personlig data i stor utstr√§ckning' },
          { id: 7, name: 'Datafiering', description: 'Att g√∂ra allt till m√§tbar data, √§ven m√§nskliga beteenden och relationer' },
          { id: 8, name: 'Affektigenk√§nning', description: 'AI som l√§ser och tolkar m√§nskliga k√§nslor och ansiktsuttryck' },
          { id: 9, name: 'M√§nskligt arbete', description: 'AI:s p√•verkan p√• jobb, arbetsvillkor och exploatering av arbetare' },
          { id: 10, name: 'Makt och kontroll', description: 'Vem har makten √∂ver AI-system och vem p√•verkas av dem?' }
        ];

        const solutions = {
          technical: [
            { id: 1, name: 'Transparenta AI-algoritmer', description: 'F√∂rklara hur AI fattar beslut' },
            { id: 2, name: 'Diversifierade tr√§ningsdata', description: 'Inkludera fler perspektiv i data' },
            { id: 3, name: 'Kryptering och datas√§kerhet', description: 'Skydda personlig information' },
            { id: 4, name: 'Anv√§ndarkontroll √∂ver automation', description: 'L√•t m√§nniskor v√§lja n√§r AI anv√§nds' },
            { id: 5, name: 'Bias-detektering', description: 'Testa AI-system f√∂r or√§ttvisor' },
            { id: 6, name: 'Energieffektiv AI', description: 'Minska milj√∂p√•verkan av datorcenter' },
            { id: 7, name: '√ñppen k√§llkod', description: 'Dela AI-kod f√∂r granskning' },
            { id: 8, name: 'M√§nniskor-i-loopen design', description: 'H√•ll m√§nniskor i besluten' }
          ],
          policy: [
            { id: 9, name: 'Regeringsreglering', description: 'Lagar som styr AI-anv√§ndning' },
            { id: 10, name: 'Branschstandarder', description: 'F√∂retag enas om etiska regler' },
            { id: 11, name: 'Etiska riktlinjer', description: 'V√§gledning f√∂r ansvarsfull utveckling' },
            { id: 12, name: 'Konsumentskydd', description: 'Lagar som skyddar anv√§ndare' },
            { id: 13, name: 'Transparenskrav', description: 'Krav p√• √∂ppenhet om AI-system' },
            { id: 14, name: 'Dataskyddslagar', description: 'Regler f√∂r personuppgifter' },
            { id: 15, name: 'AI-auditering', description: 'Oberoende granskning av AI-system' },
            { id: 16, name: 'Internationella avtal', description: 'Globalt samarbete om AI-etik' }
          ],
          social: [
            { id: 17, name: 'Utbildning och medvetenhet', description: 'L√§r m√§nniskor om AI:s p√•verkan' },
            { id: 18, name: 'Offentlig debatt', description: 'Diskutera AI:s roll i samh√§llet' },
            { id: 19, name: 'Aktivism och p√•tryckningar', description: 'Organisera f√∂r f√∂r√§ndring' },
            { id: 20, name: 'Etisk design-principer', description: 'Bygga v√§rderingar i utvecklingen' },
            { id: 21, name: 'M√•ngfald i utvecklingsteam', description: 'Olika perspektiv skapar b√§ttre AI' },
            { id: 22, name: 'Community-engagement', description: 'Involvera ber√∂rda grupper' },
            { id: 23, name: 'Mediekritik', description: 'Granska AI-f√∂retags p√•st√•enden' },
            { id: 24, name: 'Kollektiv handling', description: 'Gemensam kamp f√∂r r√§ttvis AI' }
          ]
        };

        function AIEtikSpel() {
          const [step, setStep] = useState(0);
          const [selectedScenario, setSelectedScenario] = useState(null);
          const [selectedPerspectives, setSelectedPerspectives] = useState([]);
          const [perspectiveAnalysis, setPerspectiveAnalysis] = useState({});
          const [selectedEthics, setSelectedEthics] = useState([]);
          const [ethicsMotivation, setEthicsMotivation] = useState('');
          const [selectedSolutions, setSelectedSolutions] = useState([]);
          const [solutionMotivation, setSolutionMotivation] = useState('');
          const [reflection, setReflection] = useState('');
          const [copied, setCopied] = useState(false);

          const getLevelColor = (level) => {
            switch(level) {
              case 'Grundl√§ggande': return '#3b82f6';
              case 'Komplex': return '#f59e0b';
              case 'Systemisk': return '#dc2626';
              default: return '#6b7280';
            }
          };

          const togglePerspective = (p) => {
            if (selectedPerspectives.find(sp => sp.id === p.id)) {
              setSelectedPerspectives(selectedPerspectives.filter(sp => sp.id !== p.id));
              const newAnalysis = {...perspectiveAnalysis};
              delete newAnalysis[p.id];
              setPerspectiveAnalysis(newAnalysis);
            } else if (selectedPerspectives.length < 3) {
              setSelectedPerspectives([...selectedPerspectives, p]);
            }
          };

          const toggleEthics = (e) => {
            if (selectedEthics.find(se => se.id === e.id)) {
              setSelectedEthics(selectedEthics.filter(se => se.id !== e.id));
            } else {
              setSelectedEthics([...selectedEthics, e]);
            }
          };

          const toggleSolution = (s) => {
            if (selectedSolutions.find(ss => ss.id === s.id)) {
              setSelectedSolutions(selectedSolutions.filter(ss => ss.id !== s.id));
            } else if (selectedSolutions.length < 4) {
              setSelectedSolutions([...selectedSolutions, s]);
            }
          };

          const canProceed = () => {
            switch(step) {
              case 1: return selectedScenario !== null;
              case 2: return selectedPerspectives.length >= 2 && selectedPerspectives.every(p => perspectiveAnalysis[p.id]?.length > 20);
              case 3: return selectedEthics.length >= 1 && ethicsMotivation.length > 30;
              case 4: return selectedSolutions.length >= 2 && solutionMotivation.length > 30;
              case 5: return reflection.length > 50;
              default: return true;
            }
          };

          const generateSummary = () => {
            return `ALGORITMER & ANSVAR - Individuell reflektion
Kurs: VAI100 HT25
Datum: ${new Date().toLocaleDateString('sv-SE')}

‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê

SCENARIO: ${selectedScenario?.title}
Niv√•: ${selectedScenario?.level}

${selectedScenario?.description}

‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê

PERSPEKTIVANALYS:

${selectedPerspectives.map(p => `‚ñ∏ ${p.name}
${perspectiveAnalysis[p.id]}`).join('\n\n')}

‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê

IDENTIFIERADE ETIKOMR√ÖDEN:

${selectedEthics.map(e => `‚Ä¢ ${e.name}`).join('\n')}

Motivering:
${ethicsMotivation}

‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê

F√ñRESLAGNA L√ñSNINGAR:

${selectedSolutions.map(s => `‚Ä¢ ${s.name} (${s.description})`).join('\n')}

Motivering:
${solutionMotivation}

‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê

SLUTREFLEKTION:

${reflection}

‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê`;
          };

          const copyToClipboard = () => {
            navigator.clipboard.writeText(generateSummary());
            setCopied(true);
            setTimeout(() => setCopied(false), 2000);
          };

          const renderStep = () => {
            switch(step) {
              case 0:
                return (
                  <div style={{textAlign: 'center', padding: '20px'}}>
                    <div style={{fontSize: '64px', marginBottom: '20px'}}>üé¥</div>
                    <h1 style={{fontSize: '28px', fontWeight: '600', color: '#1e293b', marginBottom: '8px', fontFamily: 'Georgia, serif'}}>
                      ALGORITMER & ANSVAR
                    </h1>
                    <p style={{fontSize: '16px', color: '#64748b', marginBottom: '32px'}}>
                      Ett individuellt reflektionsverktyg f√∂r AI-etik
                    </p>
                    
                    <div style={{background: '#f8fafc', borderRadius: '12px', padding: '24px', marginBottom: '24px', textAlign: 'left', border: '1px solid #e2e8f0'}}>
                      <h3 style={{fontSize: '16px', fontWeight: '600', color: '#334155', marginBottom: '16px'}}>
                        Instruktioner
                      </h3>
                      <p style={{color: '#475569', lineHeight: '1.7', marginBottom: '16px'}}>
                        Detta √§r en ers√§ttningsuppgift f√∂r workshopmomentet med etikspelet. Du kommer att arbeta igenom samma reflektionsprocess som dina kurskamrater gjorde i grupp, men sj√§lvst√§ndigt och dokumenterat.
                      </p>
                      <div style={{background: 'white', borderRadius: '8px', padding: '16px', border: '1px solid #e2e8f0'}}>
                        <p style={{fontWeight: '500', color: '#334155', marginBottom: '8px'}}>Du kommer att:</p>
                        <ol style={{color: '#475569', paddingLeft: '20px', margin: 0, lineHeight: '1.8'}}>
                          <li>V√§lja ett etiskt dilemma (scenariokort)</li>
                          <li>Analysera det fr√•n olika intressenters perspektiv</li>
                          <li>Identifiera relevanta etikomr√•den</li>
                          <li>F√∂resl√• m√∂jliga l√∂sningar</li>
                          <li>Reflektera √∂ver dina insikter</li>
                        </ol>
                      </div>
                    </div>

                    <div style={{background: '#fef3c7', borderRadius: '8px', padding: '16px', marginBottom: '24px', textAlign: 'left'}}>
                      <p style={{color: '#92400e', fontSize: '14px', margin: 0}}>
                        <strong>Tips:</strong> Ta god tid p√• dig. Kvaliteten p√• din analys √§r viktigare √§n att g√• snabbt igenom stegen. I slutet kan du kopiera din sammanfattning f√∂r inl√§mning.
                      </p>
                    </div>

                    <button 
                      onClick={() => setStep(1)}
                      style={{
                        background: '#2563eb',
                        color: 'white',
                        border: 'none',
                        borderRadius: '8px',
                        padding: '14px 32px',
                        fontSize: '16px',
                        fontWeight: '500',
                        cursor: 'pointer',
                        transition: 'background 0.2s'
                      }}
                      onMouseOver={(e) => e.target.style.background = '#1d4ed8'}
                      onMouseOut={(e) => e.target.style.background = '#2563eb'}
                    >
                      Starta uppgiften ‚Üí
                    </button>
                  </div>
                );

              case 1:
                return (
                  <div>
                    <div style={{marginBottom: '24px'}}>
                      <span style={{background: '#dbeafe', color: '#1e40af', padding: '4px 12px', borderRadius: '16px', fontSize: '12px', fontWeight: '500'}}>STEG 1 av 5</span>
                      <h2 style={{fontSize: '22px', fontWeight: '600', color: '#1e293b', marginTop: '12px', marginBottom: '8px'}}>V√§lj ett scenario</h2>
                      <p style={{color: '#64748b'}}>L√§s igenom de olika scenarierna och v√§lj ett som du vill analysera djupare.</p>
                    </div>

                    <div style={{display: 'grid', gap: '12px'}}>
                      {scenarios.map(scenario => (
                        <div 
                          key={scenario.id}
                          onClick={() => setSelectedScenario(scenario)}
                          style={{
                            background: selectedScenario?.id === scenario.id ? '#eff6ff' : 'white',
                            border: selectedScenario?.id === scenario.id ? '2px solid #2563eb' : '1px solid #e2e8f0',
                            borderRadius: '10px',
                            padding: '16px',
                            cursor: 'pointer',
                            transition: 'all 0.2s'
                          }}
                        >
                          <div style={{display: 'flex', alignItems: 'center', gap: '12px', marginBottom: '8px'}}>
                            <span style={{
                              background: getLevelColor(scenario.level),
                              color: 'white',
                              padding: '2px 10px',
                              borderRadius: '12px',
                              fontSize: '11px',
                              fontWeight: '500'
                            }}>
                              {scenario.level}
                            </span>
                            <h3 style={{fontSize: '15px', fontWeight: '600', color: '#1e293b', margin: 0}}>{scenario.title}</h3>
                          </div>
                          <p style={{color: '#475569', fontSize: '14px', lineHeight: '1.6', margin: 0}}>{scenario.description}</p>
                        </div>
                      ))}
                    </div>
                  </div>
                );

              case 2:
                return (
                  <div>
                    <div style={{marginBottom: '24px'}}>
                      <span style={{background: '#dcfce7', color: '#166534', padding: '4px 12px', borderRadius: '16px', fontSize: '12px', fontWeight: '500'}}>STEG 2 av 5</span>
                      <h2 style={{fontSize: '22px', fontWeight: '600', color: '#1e293b', marginTop: '12px', marginBottom: '8px'}}>Perspektivanalys</h2>
                      <p style={{color: '#64748b'}}>V√§lj 2-3 perspektiv och analysera scenariot fr√•n varje intressents synvinkel.</p>
                    </div>

                    <div style={{background: '#f0fdf4', borderRadius: '10px', padding: '16px', marginBottom: '20px', border: '1px solid #bbf7d0'}}>
                      <p style={{fontWeight: '500', color: '#166534', marginBottom: '4px'}}>Ditt scenario:</p>
                      <p style={{color: '#15803d', fontSize: '14px', margin: 0}}>{selectedScenario?.title}</p>
                    </div>

                    <p style={{fontWeight: '500', color: '#334155', marginBottom: '12px'}}>
                      V√§lj 2-3 perspektiv ({selectedPerspectives.length}/3 valda):
                    </p>

                    <div style={{display: 'flex', flexWrap: 'wrap', gap: '8px', marginBottom: '24px'}}>
                      {perspectives.map(p => (
                        <button
                          key={p.id}
                          onClick={() => togglePerspective(p)}
                          style={{
                            background: selectedPerspectives.find(sp => sp.id === p.id) ? '#22c55e' : 'white',
                            color: selectedPerspectives.find(sp => sp.id === p.id) ? 'white' : '#374151',
                            border: '1px solid #d1d5db',
                            borderRadius: '20px',
                            padding: '8px 16px',
                            fontSize: '13px',
                            cursor: selectedPerspectives.length >= 3 && !selectedPerspectives.find(sp => sp.id === p.id) ? 'not-allowed' : 'pointer',
                            opacity: selectedPerspectives.length >= 3 && !selectedPerspectives.find(sp => sp.id === p.id) ? 0.5 : 1,
                            transition: 'all 0.2s'
                          }}
                        >
                          {p.name}
                        </button>
                      ))}
                    </div>

                    {selectedPerspectives.map(p => (
                      <div key={p.id} style={{marginBottom: '20px'}}>
                        <label style={{display: 'block', fontWeight: '500', color: '#1e293b', marginBottom: '8px'}}>
                          {p.name}: {p.description}
                        </label>
                        <textarea
                          value={perspectiveAnalysis[p.id] || ''}
                          onChange={(e) => setPerspectiveAnalysis({...perspectiveAnalysis, [p.id]: e.target.value})}
                          placeholder={`Hur ser ${p.name.toLowerCase()} p√• detta scenario? Vilka intressen har de? Hur p√•verkas de?`}
                          style={{
                            width: '100%',
                            minHeight: '100px',
                            padding: '12px',
                            border: '1px solid #d1d5db',
                            borderRadius: '8px',
                            fontSize: '14px',
                            lineHeight: '1.6',
                            resize: 'vertical',
                            boxSizing: 'border-box'
                          }}
                        />
                        <p style={{fontSize: '12px', color: '#9ca3af', marginTop: '4px'}}>
                          {perspectiveAnalysis[p.id]?.length || 0} tecken (minst 20 kr√§vs)
                        </p>
                      </div>
                    ))}
                  </div>
                );

              case 3:
                return (
                  <div>
                    <div style={{marginBottom: '24px'}}>
                      <span style={{background: '#fee2e2', color: '#991b1b', padding: '4px 12px', borderRadius: '16px', fontSize: '12px', fontWeight: '500'}}>STEG 3 av 5</span>
                      <h2 style={{fontSize: '22px', fontWeight: '600', color: '#1e293b', marginTop: '12px', marginBottom: '8px'}}>Identifiera etikomr√•den</h2>
                      <p style={{color: '#64748b'}}>Vilka etiska aspekter √§r mest relevanta f√∂r detta scenario?</p>
                    </div>

                    <p style={{fontWeight: '500', color: '#334155', marginBottom: '12px'}}>
                      V√§lj de etikomr√•den du anser vara mest relevanta:
                    </p>

                    <div style={{display: 'grid', gap: '8px', marginBottom: '24px'}}>
                      {ethicsAreas.map(e => (
                        <div
                          key={e.id}
                          onClick={() => toggleEthics(e)}
                          style={{
                            background: selectedEthics.find(se => se.id === e.id) ? '#fef2f2' : 'white',
                            border: selectedEthics.find(se => se.id === e.id) ? '2px solid #dc2626' : '1px solid #e2e8f0',
                            borderRadius: '8px',
                            padding: '12px 16px',
                            cursor: 'pointer',
                            transition: 'all 0.2s'
                          }}
                        >
                          <div style={{display: 'flex', alignItems: 'center', gap: '10px'}}>
                            <div style={{
                              width: '20px',
                              height: '20px',
                              borderRadius: '4px',
                              border: selectedEthics.find(se => se.id === e.id) ? 'none' : '2px solid #d1d5db',
                              background: selectedEthics.find(se => se.id === e.id) ? '#dc2626' : 'white',
                              display: 'flex',
                              alignItems: 'center',
                              justifyContent: 'center',
                              color: 'white',
                              fontSize: '14px',
                              flexShrink: 0
                            }}>
                              {selectedEthics.find(se => se.id === e.id) && '‚úì'}
                            </div>
                            <div>
                              <p style={{fontWeight: '500', color: '#1e293b', margin: 0, fontSize: '14px'}}>{e.name}</p>
                              <p style={{color: '#6b7280', margin: 0, fontSize: '12px'}}>{e.description}</p>
                            </div>
                          </div>
                        </div>
                      ))}
                    </div>

                    <div>
                      <label style={{display: 'block', fontWeight: '500', color: '#1e293b', marginBottom: '8px'}}>
                        Motivera ditt val av etikomr√•den:
                      </label>
                      <textarea
                        value={ethicsMotivation}
                        onChange={(e) => setEthicsMotivation(e.target.value)}
                        placeholder="F√∂rklara varf√∂r du valde dessa etikomr√•den och hur de relaterar till scenariot..."
                        style={{
                          width: '100%',
                          minHeight: '120px',
                          padding: '12px',
                          border: '1px solid #d1d5db',
                          borderRadius: '8px',
                          fontSize: '14px',
                          lineHeight: '1.6',
                          resize: 'vertical',
                          boxSizing: 'border-box'
                        }}
                      />
                      <p style={{fontSize: '12px', color: '#9ca3af', marginTop: '4px'}}>
                        {ethicsMotivation.length} tecken (minst 30 kr√§vs)
                      </p>
                    </div>
                  </div>
                );

              case 4:
                return (
                  <div>
                    <div style={{marginBottom: '24px'}}>
                      <span style={{background: '#fef9c3', color: '#854d0e', padding: '4px 12px', borderRadius: '16px', fontSize: '12px', fontWeight: '500'}}>STEG 4 av 5</span>
                      <h2 style={{fontSize: '22px', fontWeight: '600', color: '#1e293b', marginTop: '12px', marginBottom: '8px'}}>F√∂resl√• l√∂sningar</h2>
                      <p style={{color: '#64748b'}}>V√§lj 2-4 l√∂sningar som du tror kan hantera de etiska problemen i scenariot.</p>
                    </div>

                    {['technical', 'policy', 'social'].map((category) => (
                      <div key={category} style={{marginBottom: '20px'}}>
                        <h3 style={{
                          fontSize: '14px',
                          fontWeight: '600',
                          color: category === 'technical' ? '#0369a1' : category === 'policy' ? '#7c2d12' : '#166534',
                          marginBottom: '10px',
                          textTransform: 'uppercase',
                          letterSpacing: '0.5px'
                        }}>
                          {category === 'technical' ? '‚öôÔ∏è Tekniska l√∂sningar' : category === 'policy' ? 'üìã Policyl√∂sningar' : 'üë• Sociala l√∂sningar'}
                        </h3>
                        <div style={{display: 'flex', flexWrap: 'wrap', gap: '8px'}}>
                          {solutions[category].map(s => (
                            <button
                              key={s.id}
                              onClick={() => toggleSolution(s)}
                              title={s.description}
                              style={{
                                background: selectedSolutions.find(ss => ss.id === s.id) ? '#fbbf24' : 'white',
                                color: selectedSolutions.find(ss => ss.id === s.id) ? '#1e293b' : '#374151',
                                border: '1px solid #d1d5db',
                                borderRadius: '6px',
                                padding: '6px 12px',
                                fontSize: '13px',
                                cursor: selectedSolutions.length >= 4 && !selectedSolutions.find(ss => ss.id === s.id) ? 'not-allowed' : 'pointer',
                                opacity: selectedSolutions.length >= 4 && !selectedSolutions.find(ss => ss.id === s.id) ? 0.5 : 1,
                                transition: 'all 0.2s'
                              }}
                            >
                              {s.name}
                            </button>
                          ))}
                        </div>
                      </div>
                    ))}

                    <p style={{fontSize: '13px', color: '#6b7280', marginBottom: '16px'}}>
                      Valda l√∂sningar: {selectedSolutions.length}/4
                    </p>

                    <div>
                      <label style={{display: 'block', fontWeight: '500', color: '#1e293b', marginBottom: '8px'}}>
                        Motivera ditt val av l√∂sningar:
                      </label>
                      <textarea
                        value={solutionMotivation}
                        onChange={(e) => setSolutionMotivation(e.target.value)}
                        placeholder="F√∂rklara hur dessa l√∂sningar kan hantera de etiska problemen i scenariot. Vilka l√∂sningar kompletterar varandra?"
                        style={{
                          width: '100%',
                          minHeight: '120px',
                          padding: '12px',
                          border: '1px solid #d1d5db',
                          borderRadius: '8px',
                          fontSize: '14px',
                          lineHeight: '1.6',
                          resize: 'vertical',
                          boxSizing: 'border-box'
                        }}
                      />
                      <p style={{fontSize: '12px', color: '#9ca3af', marginTop: '4px'}}>
                        {solutionMotivation.length} tecken (minst 30 kr√§vs)
                      </p>
                    </div>
                  </div>
                );

              case 5:
                return (
                  <div>
                    <div style={{marginBottom: '24px'}}>
                      <span style={{background: '#f3e8ff', color: '#6b21a8', padding: '4px 12px', borderRadius: '16px', fontSize: '12px', fontWeight: '500'}}>STEG 5 av 5</span>
                      <h2 style={{fontSize: '22px', fontWeight: '600', color: '#1e293b', marginTop: '12px', marginBottom: '8px'}}>Slutreflektion</h2>
                      <p style={{color: '#64748b'}}>Sammanfatta dina viktigaste insikter fr√•n denna analys.</p>
                    </div>

                    <div style={{background: '#faf5ff', borderRadius: '10px', padding: '16px', marginBottom: '20px', border: '1px solid #e9d5ff'}}>
                      <p style={{fontWeight: '500', color: '#6b21a8', marginBottom: '8px'}}>Reflektera √∂ver:</p>
                      <ul style={{color: '#7c3aed', paddingLeft: '20px', margin: 0, fontSize: '14px', lineHeight: '1.8'}}>
                        <li>Vilka intressekonflikter uppt√§ckte du mellan olika perspektiv?</li>
                        <li>Hur h√§nger de etiska problemen ihop med varandra?</li>
                        <li>Vilka utmaningar finns med de l√∂sningar du f√∂reslagit?</li>
                        <li>Vad tar du med dig fr√•n denna analys?</li>
                      </ul>
                    </div>

                    <div>
                      <textarea
                        value={reflection}
                        onChange={(e) => setReflection(e.target.value)}
                        placeholder="Skriv din reflektion h√§r..."
                        style={{
                          width: '100%',
                          minHeight: '200px',
                          padding: '16px',
                          border: '1px solid #d1d5db',
                          borderRadius: '8px',
                          fontSize: '14px',
                          lineHeight: '1.7',
                          resize: 'vertical',
                          boxSizing: 'border-box'
                        }}
                      />
                      <p style={{fontSize: '12px', color: '#9ca3af', marginTop: '4px'}}>
                        {reflection.length} tecken (minst 50 kr√§vs)
                      </p>
                    </div>
                  </div>
                );

              case 6:
                return (
                  <div style={{textAlign: 'center'}}>
                    <div style={{fontSize: '48px', marginBottom: '16px'}}>‚úÖ</div>
                    <h2 style={{fontSize: '24px', fontWeight: '600', color: '#1e293b', marginBottom: '8px'}}>Uppgiften √§r klar!</h2>
                    <p style={{color: '#64748b', marginBottom: '24px'}}>
                      Nedan ser du en sammanfattning av din analys. Kopiera texten och l√§mna in enligt kursens instruktioner.
                    </p>

                    <div style={{
                      background: '#f8fafc',
                      border: '1px solid #e2e8f0',
                      borderRadius: '10px',
                      padding: '20px',
                      marginBottom: '20px',
                      textAlign: 'left',
                      maxHeight: '400px',
                      overflow: 'auto'
                    }}>
                      <pre style={{
                        fontFamily: 'monospace',
                        fontSize: '12px',
                        whiteSpace: 'pre-wrap',
                        color: '#334155',
                        margin: 0,
                        lineHeight: '1.6'
                      }}>
                        {generateSummary()}
                      </pre>
                    </div>

                    <button
                      onClick={copyToClipboard}
                      style={{
                        background: copied ? '#16a34a' : '#22c55e',
                        color: 'white',
                        border: 'none',
                        borderRadius: '8px',
                        padding: '14px 32px',
                        fontSize: '16px',
                        fontWeight: '500',
                        cursor: 'pointer',
                        marginRight: '12px'
                      }}
                    >
                      {copied ? '‚úì Kopierat!' : 'üìã Kopiera till urklipp'}
                    </button>

                    <button
                      onClick={() => {
                        setStep(0);
                        setSelectedScenario(null);
                        setSelectedPerspectives([]);
                        setPerspectiveAnalysis({});
                        setSelectedEthics([]);
                        setEthicsMotivation('');
                        setSelectedSolutions([]);
                        setSolutionMotivation('');
                        setReflection('');
                      }}
                      style={{
                        background: 'white',
                        color: '#374151',
                        border: '1px solid #d1d5db',
                        borderRadius: '8px',
                        padding: '14px 24px',
                        fontSize: '16px',
                        cursor: 'pointer'
                      }}
                    >
                      B√∂rja om
                    </button>
                  </div>
                );

              default:
                return null;
            }
          };

          return (
            <div style={{
              fontFamily: '-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif',
              maxWidth: '720px',
              margin: '0 auto',
              padding: '24px',
              background: 'white',
              minHeight: '100vh'
            }}>
              {step > 0 && step < 6 && (
                <div style={{marginBottom: '20px'}}>
                  <div style={{display: 'flex', gap: '4px', marginBottom: '8px'}}>
                    {[1,2,3,4,5].map(s => (
                      <div key={s} style={{
                        flex: 1,
                        height: '4px',
                        borderRadius: '2px',
                        background: s <= step ? '#2563eb' : '#e2e8f0'
                      }} />
                    ))}
                  </div>
                </div>
              )}

              {renderStep()}

              {step > 0 && step < 6 && (
                <div style={{
                  display: 'flex',
                  justifyContent: 'space-between',
                  marginTop: '32px',
                  paddingTop: '20px',
                  borderTop: '1px solid #e2e8f0'
                }}>
                  <button
                    onClick={() => setStep(step - 1)}
                    style={{
                      background: 'white',
                      color: '#374151',
                      border: '1px solid #d1d5db',
                      borderRadius: '8px',
                      padding: '10px 20px',
                      fontSize: '14px',
                      cursor: 'pointer'
                    }}
                  >
                    ‚Üê Tillbaka
                  </button>
                  <button
                    onClick={() => setStep(step + 1)}
                    disabled={!canProceed()}
                    style={{
                      background: canProceed() ? '#2563eb' : '#94a3b8',
                      color: 'white',
                      border: 'none',
                      borderRadius: '8px',
                      padding: '10px 24px',
                      fontSize: '14px',
                      cursor: canProceed() ? 'pointer' : 'not-allowed'
                    }}
                  >
                    {step === 5 ? 'Avsluta' : 'N√§sta'} ‚Üí
                  </button>
                </div>
              )}
            </div>
          );
        }

        ReactDOM.render(<AIEtikSpel />, document.getElementById('root'));
    </script>
</body>
</html>
